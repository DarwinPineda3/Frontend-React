import React from 'react';
import { Box, Typography } from '@mui/material';

function getSuspicionColor(score) {
  if (score < 3) return "#008000"; // Verde
  if (score < 7) return "#FFA500"; // Naranja
  return "#FA896B"; // Rojo
}

function getSuspicionMessage(score, type) {
  let message = '';

  // Mensajes basados en el tipo
  if (type == 'file') {
    if (score === 0) {
      message = "This file appears fairly benign.";
    } else if (score < 4) {
      message = "This file shows numerous signs of malicious behavior.";
    } else if (score >= 7) {
      message = "This file is very suspicious.";
    } else {
      message = "This file shows moderate risk.";
    }
  } else if (type == 'mobile app') {
    if (score === 0) {
      message = "This mobile app appears fairly benign.";
    } else if (score < 4) {
      message = "This mobile app shows numerous signs of malicious behavior.";
    } else if (score >= 7) {
      message = "This mobile app is very suspicious.";
    } else {
      message = "This mobile app shows moderate risk.";
    }
  } else {
    if (score === 0) {
      message = "This item appears fairly benign.";
    } else if (score < 4) {
      message = "This item shows numerous signs of malicious behavior.";
    } else if (score >= 7) {
      message = "This item is very suspicious.";
    } else {
      message = "This item shows moderate risk.";
    }
  }

  return message;
}

const AlphaSuspicionLevel = ({ score, type }) => {
  const color = getSuspicionColor(score);
  const message = getSuspicionMessage(score, type);

  return (
    <Box 
      display="flex" 
      flexDirection="column" 
      alignItems="center" 
      p={1} 
      border={1} 
      borderColor={color}
      borderRadius={2}
      bgcolor="transparent"
    >
      {/* NÃºmero de score sin color de contorno */}
      <Typography 
        variant="h2" 
        fontWeight={700} 
        color={color} 
        style={{ fontSize: '3rem' }}
      >
        {score}
        <Typography component="span" variant="h4" color="textSecondary">/10</Typography>
      </Typography>
      <Typography variant="caption" color="textSecondary">Analysis score</Typography>
      <Box mt={2} p={2} 
        bgcolor={score < 3 ? "#e8f5e9" : score >= 7 ? "#ffebee" : "#fffde7"} 
        borderRadius={1}>
        <Typography variant="body2" fontWeight={500} color="textSecondary">
          {message} The score of this {type} is <strong>{score.toFixed(1)} out of 10</strong>.
        </Typography>
      </Box>
    </Box>
  );
};

export default AlphaSuspicionLevel;